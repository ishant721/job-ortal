{% extends "base.html" %}
{% load page_tags %}
{% load cache %}
{% load searchtags %}
{% load thumbnail %}
{% block block_canonical_tag %}
  {% if current_page|slugify == '1'|slugify %}
    {% else %}
    <link rel="prev" href="https://peeljobs.com{{ current_url }}{% if prev_page != 1 %}{{prev_page}}/{% endif %}" />
  {% endif %}
  {% if current_page <= last_page %}
    {% if current_page == last_page %}
    {% else %}
      <link rel="next" href="https://morgan.com{{ current_url }}{{current_page| add:"1"}}/" />
    {% endif %}
  {% endif %}
{% endblock %}
{% block block_title %}

 {% include "meta_data/jobs_list_data.html" with meta_data=True%}
 {% endblock %}

{% block page_search_block %}
{% show_search_filter_tailwind %}
{% endblock %}
{% block base %}
<style>
  .glass-effect {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  .gradient-text {
    background: linear-gradient(135deg, #4A90E2 0%, #50E3C2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .hover-lift {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  
  .hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
  
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out;
  }
  
  .animate-slide-up {
    animation: slideUp 0.8s ease-out;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideUp {
    from { 
      opacity: 0;
      transform: translateY(30px);
    }
    to { 
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .location-item, .skill-item, .industry-item, .degree-item {
    transition: all 0.2s ease-in-out;
  }
  
  .location-item:hover, .skill-item:hover, .industry-item:hover, .degree-item:hover {
    background-color: rgba(74, 144, 226, 0.1);
    transform: translateX(4px);
  }
  
  #show-more-locations, #show-more-skills, #show-more-industries, #show-more-degrees {
    transition: all 0.2s ease-in-out;
  }
  
  #show-more-locations:hover, #show-more-skills:hover, #show-more-industries:hover, #show-more-degrees:hover {
    transform: translateY(-1px);
    background: linear-gradient(135deg, #4A90E2 0%, #50E3C2 100%);
    color: white;
  }
  
  .modal-location-item, .modal-skill-item, .modal-industry-item, .modal-degree-item {
    transition: all 0.2s ease-in-out;
  }
  
  .modal-location-item:hover, .modal-skill-item:hover, .modal-industry-item:hover, .modal-degree-item:hover {
    background: linear-gradient(135deg, rgba(74, 144, 226, 0.1) 0%, rgba(80, 227, 194, 0.1) 100%);
    transform: translateX(4px);
  }
  
  /* Responsive grid adjustments for modal */
  @media (max-width: 640px) {
    #modal-location-list, #modal-skill-list, #modal-industry-list, #modal-degree-list {
      grid-template-columns: repeat(1, 1fr);
    }
  }
  
  @media (min-width: 641px) and (max-width: 768px) {
    #modal-location-list, #modal-skill-list, #modal-industry-list, #modal-degree-list {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  @media (min-width: 769px) and (max-width: 1024px) {
    #modal-location-list, #modal-skill-list, #modal-industry-list, #modal-degree-list {
      grid-template-columns: repeat(3, 1fr);
    }
  }
  
  @media (min-width: 1025px) {
    #modal-location-list, #modal-skill-list, #modal-industry-list, #modal-degree-list {
      grid-template-columns: repeat(4, 1fr);
    }
  }
  
  #location-modal, #skills-modal, #industry-modal, #degrees-modal {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    z-index: 9999 !important;
    background: rgba(0, 0, 0, 0.5);
  }
  
  /* Custom range slider styles with gradient */
  .range-slider {
    -webkit-appearance: none;
    appearance: none;
    background: transparent;
    cursor: pointer;
  }
  
  .range-slider::-webkit-slider-track {
    background: linear-gradient(90deg, #e5e7eb 0%, #d1d5db 100%);
    height: 6px;
    border-radius: 3px;
  }
  
  .range-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    background: linear-gradient(135deg, #4A90E2 0%, #50E3C2 100%);
    height: 20px;
    width: 20px;
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid #ffffff;
    box-shadow: 0 4px 8px rgba(74, 144, 226, 0.3);
  }
  
  .range-slider::-moz-range-track {
    background: linear-gradient(90deg, #e5e7eb 0%, #d1d5db 100%);
    height: 6px;
    border-radius: 3px;
    border: none;
  }
  
  .range-slider::-moz-range-thumb {
    background: linear-gradient(135deg, #4A90E2 0%, #50E3C2 100%);
    height: 20px;
    width: 20px;
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid #ffffff;
    box-shadow: 0 4px 8px rgba(74, 144, 226, 0.3);
  }
  
  .range-slider:focus {
    outline: none;
  }
  
  .range-slider:focus::-webkit-slider-thumb {
    box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
  }
  
  .range-slider:focus::-moz-range-thumb {
    box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
  }
  
  /* Pagination styling */
  .pagination a {
    transition: all 0.3s ease;
  }
  
  .pagination a:hover {
    background: linear-gradient(135deg, #4A90E2 0%, #50E3C2 100%) !important;
    color: white !important;
    transform: translateY(-1px);
  }

  /* Walkin jobs specific styling */
  .walkin-badge {
    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
    color: white;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    display: inline-flex;
    align-items: center;
    gap: 4px;
  }

  .job-card {
    transition: all 0.3s ease;
  }

  .job-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  }

  .company-logo {
    width: 60px;
    height: 60px;
    object-fit: contain;
    background: white;
    border-radius: 12px;
    padding: 8px;
    border: 2px solid #f1f5f9;
  }
</style>

<!-- Hero Section with Gradient Background -->
<section class="relative bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-12 overflow-hidden">
  <!-- Animated Background Elements -->
  <div class="absolute inset-0">
    <div class="absolute top-10 left-10 w-32 h-32 bg-primary/10 rounded-full animate-bounce opacity-50"></div>
    <div class="absolute top-20 right-20 w-48 h-48 bg-accent/10 rounded-full animate-bounce opacity-50" style="animation-delay: 2s;"></div>
    <div class="absolute bottom-10 left-1/3 w-40 h-40 bg-secondary/10 rounded-full animate-bounce opacity-50" style="animation-delay: 4s;"></div>
  </div>
  
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 z-10">
    <div class="text-center animate-fade-in">
      {% if '/walkin-jobs/' in request.path %}
      <div class="flex items-center justify-center mb-4">
        <img src="https://cdn-icons-png.flaticon.com/512/3050/3050443.png" alt="Walk-in Jobs" class="w-16 h-16 mr-4">
        <span class="walkin-badge">
          <i class="fas fa-walking"></i>
          Walk-in Jobs
        </span>
      </div>
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-black mb-6 leading-tight">
        <span class="gradient-text">Walk-in Jobs Available</span>
      </h1>
      <p class="text-xl md:text-2xl text-gray-600 font-light leading-relaxed max-w-3xl mx-auto">
        Find immediate employment opportunities with no prior appointment needed
      </p>
      {% elif '/government-jobs/' in request.path %}
      <div class="flex items-center justify-center mb-4">
        <img src="https://cdn-icons-png.flaticon.com/512/1995/1995574.png" alt="Government Jobs" class="w-16 h-16 mr-4">
        <span class="bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-full text-sm font-semibold">
          <i class="fas fa-university"></i>
          Government Jobs
        </span>
      </div>
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-black mb-6 leading-tight">
        <span class="gradient-text">Government Job Opportunities</span>
      </h1>
      <p class="text-xl md:text-2xl text-gray-600 font-light leading-relaxed max-w-3xl mx-auto">
        Secure your future with stable government career opportunities
      </p>
      {% else %}
      <div class="flex items-center justify-center mb-4">
        <img src="https://cdn-icons-png.flaticon.com/512/3281/3281307.png" alt="Jobs" class="w-16 h-16 mr-4">
      </div>
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-black mb-6 leading-tight">
        <span class="gradient-text">Jobs Listed</span>
      </h1>
      <p class="text-xl md:text-2xl text-gray-600 font-light leading-relaxed max-w-3xl mx-auto">
        Discover your perfect career opportunity from our curated job listings
      </p>
      {% endif %}
    </div>
  </div>
</section>

<!-- main_container starts here -->
<div class="w-full bg-gradient-to-b from-gray-50 to-white min-h-screen">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    
    <div class="flex flex-col lg:flex-row gap-8">
      <div class="w-full">
        <!-- side_filter_section starts here -->
        <div class="flex flex-col md:flex-row gap-8">
          <div class="md:w-1/4">
           <div class="animate-slide-up">
            <div class="glass-effect rounded-3xl shadow-xl p-6 hover-lift">
              <form name="refine-search" id="refine-search" method="POST" class='refine-autocomplete-me' action=".">
                {% csrf_token %}
                <div class="space-y-6">
                  
                  <div class="glass-effect rounded-2xl overflow-hidden border border-white/30">
                    <div class="px-6 py-4 bg-gradient-to-r from-primary/10 to-accent/10 border-b border-white/30">
                      <h3 class="font-bold text-gray-800 text-lg flex items-center gap-2">
                        <i class="fas fa-map-marker-alt text-primary"></i>
                        Location
                      </h3>
                    </div>
                    <div class="p-6 bg-white/80">
                        {% if state %}
                          {% get_refine_locations searched_location as total_refine_locations %}
                        {% else %}
                          {% get_refine_locations searched_locations as total_refine_locations %}
                        {% endif %}
                        <div class="space-y-3" id="location-list-container">
                          {% for location in total_refine_locations %}
                          <label class="flex items-center space-x-3 text-sm location-item cursor-pointer p-2 rounded-xl" data-location-name="{{ location.name|lower }}" {% if forloop.counter > 5 %}style="display: none;"{% endif %}>
                            <input type="checkbox" {% for each in searched_locations %}{% if location == each %}checked{% else %}{% endif %}{% endfor %} class="refine_search refine-skill refine_location text-primary rounded-lg focus:ring-primary focus:ring-2" name="refine_location" value="{{ location.name }}">
                            <span class="text-gray-700 font-medium">{{ location.name }}</span>
                            <span class="text-primary font-semibold text-xs">({{ location.num_posts }})</span>
                          </label>
                          {% endfor %}
                        </div>
                        {% if total_refine_locations|length > 5 %}
                        <div class="mt-4">
                          <button type="button" class="text-primary hover:text-white text-sm font-semibold px-4 py-2 rounded-xl transition-all duration-300" id="show-more-locations">
                            <i class="fas fa-plus mr-2"></i>Show more locations
                          </button>
                        </div>
                        {% endif %}
                      </div>
                    </div>

                  <div class="glass-effect rounded-2xl overflow-hidden border border-white/30">
                    <div class="px-6 py-4 bg-gradient-to-r from-accent/10 to-secondary/10 border-b border-white/30">
                      <h3 class="font-bold text-gray-800 text-lg flex items-center gap-2">
                        <i class="fas fa-cogs text-accent"></i>
                        Skills
                      </h3>
                    </div>
                    <div class="p-6 bg-white/80">
                        <input type="hidden" name="refine_search" id="refine_search" value="">
                        <input type="hidden" name="page" id="page" value="1">
                        {% if not searched_skills %}
                          {% for text in searched_text %}
                          <input type="hidden" name="refine_skill" value="{{ text }}">
                          {% endfor %}
                        {% endif  %}
                        {% get_refine_skills searched_skills as total_refine_skills %}
                        <div class="space-y-3" id="skills-list-container">
                          {% for skill in total_refine_skills %}
                          <label class="flex items-center space-x-3 text-sm skill-item cursor-pointer p-2 rounded-xl" data-skill-name="{{ skill.name|lower }}" {% if forloop.counter > 5 %}style="display: none;"{% endif %}>
                            <input type="checkbox" {% for each in searched_skills %}{% if skill == each %}checked{% else %}{% endif %}{% endfor %} class="refine_search refine-skill refine_skill text-accent rounded-lg focus:ring-accent focus:ring-2" name="refine_skill" value="{{ skill.name }}">
                            <span class="text-gray-700 font-medium">{{ skill.name }}</span>
                            <span class="text-accent font-semibold text-xs">({{ skill.num_posts }})</span>
                          </label>
                          {% endfor %}
                        </div>
                        {% if total_refine_skills|length > 5 %}
                        <div class="mt-4">
                          <button type="button" class="text-accent hover:text-white text-sm font-semibold px-4 py-2 rounded-xl transition-all duration-300" id="show-more-skills">
                            <i class="fas fa-plus mr-2"></i>Show more skills
                          </button>
                        </div>
                        {% endif %}
                      </div>
                    </div>

                  <div class="glass-effect rounded-2xl overflow-hidden border border-white/30">
                    <div class="px-6 py-4 bg-gradient-to-r from-secondary/10 to-purple-100 border-b border-white/30">
                      <h3 class="font-bold text-gray-800 text-lg flex items-center gap-2">
                        <i class="fas fa-industry text-secondary"></i>
                        Industry
                      </h3>
                    </div>
                    <div class="p-6 bg-white/80">
                        {% get_refine_industries searched_industry as total_refine_industries %}
                        <div class="space-y-3" id="industry-list-container">
                          {% for industry in total_refine_industries %}
                          <label class="flex items-center space-x-3 text-sm industry-item cursor-pointer p-2 rounded-xl" data-industry-name="{{ industry.name|get_industry_name|default_if_none:''|lower }}" {% if forloop.counter > 5 %}style="display: none;"{% endif %}>
                            <input type="checkbox" class="refine_search refine-industry refine_industry text-secondary rounded-lg focus:ring-secondary focus:ring-2" name="refine_industry" value="{{ industry.name }}" {% if industry in searched_industry %}checked{% else %}{% endif %}>
                            <span class="text-gray-700 font-medium">{{ industry.name|get_industry_name }}</span>
                            <span class="text-secondary font-semibold text-xs">({{ industry.num_posts }})</span>
                          </label>
                          {% endfor %}
                        </div>
                        {% if total_refine_industries|length > 5 %}
                        <div class="mt-4">
                          <button type="button" class="text-secondary hover:text-white text-sm font-semibold px-4 py-2 rounded-xl transition-all duration-300" id="show-more-industries">
                            <i class="fas fa-plus mr-2"></i>Show more industries
                          </button>
                        </div>
                        {% endif %}
                      </div>
                    </div>

                  <div class="glass-effect rounded-2xl overflow-hidden border border-white/30">
                    <div class="px-6 py-4 bg-gradient-to-r from-purple-100 to-pink-100 border-b border-white/30">
                      <h3 class="font-bold text-gray-800 text-lg flex items-center gap-2">
                        <i class="fas fa-graduation-cap text-purple-600"></i>
                        Degrees
                      </h3>
                    </div>
                    <div class="p-6 bg-white/80">
                        {% get_refine_educations searched_edu as total_refine_edu %}
                        <div class="space-y-3" id="degrees-list-container">
                          {% for edu in total_refine_edu %}
                          <label class="flex items-center space-x-3 text-sm degree-item cursor-pointer p-2 rounded-xl" data-degree-name="{{ edu.name|lower }}" {% if forloop.counter > 5 %}style="display: none;"{% endif %}>
                            <input type="checkbox" class="refine_search refine-edu refine_edu text-purple-600 rounded-lg focus:ring-purple-600 focus:ring-2" name="refine_education" value="{{ edu.name }}" {% for each in searched_edu %}{% if edu == each %}checked{% endif %}{% endfor %}>
                            <span class="text-gray-700 font-medium">{{ edu.name }}</span>
                            <span class="text-purple-600 font-semibold text-xs">({{ edu.num_posts }})</span>
                          </label>
                          {% endfor %}
                        </div>
                        {% if total_refine_edu|length > 5 %}
                        <div class="mt-4">
                          <button type="button" class="text-purple-600 hover:text-white text-sm font-semibold px-4 py-2 rounded-xl transition-all duration-300" id="show-more-degrees">
                            <i class="fas fa-plus mr-2"></i>Show more degrees
                          </button>
                        </div>
                        {% endif %}
                      </div>
                    </div>

                  <div class="glass-effect rounded-2xl overflow-hidden border border-white/30">
                    <div class="px-6 py-4 bg-gradient-to-r from-green-100 to-teal-100 border-b border-white/30">
                      <h3 class="font-bold text-gray-800 text-lg flex items-center gap-2">
                        <i class="fas fa-briefcase text-green-600"></i>
                        Job Type
                      </h3>
                    </div>
                    <div class="p-6 bg-white/80">
                        <div class="space-y-3">
                          <label class="flex items-center space-x-3 text-sm cursor-pointer p-2 rounded-xl hover:bg-green-50 transition-colors">
                            <input type="checkbox" class="refine_search refine-functional-area text-green-600 rounded-lg focus:ring-green-600 focus:ring-2" name="job_type" value="full-time" {% if searched_job_type == 'full-time' %}checked{% endif %}{% if job_type == 'full-time' %}checked{% endif %}>
                            <span class="text-gray-700 font-medium">Full-Time</span>
                          </label>
                          <label class="flex items-center space-x-3 text-sm cursor-pointer p-2 rounded-xl hover:bg-blue-50 transition-colors">
                            <input type="checkbox" class="refine_search refine-functional-area text-blue-600 rounded-lg focus:ring-blue-600 focus:ring-2" name="job_type" value="internship" {% if searched_job_type == 'internship' %}checked{% endif %}{% if job_type == 'internship' %}checked{% endif %}>
                            <span class="text-gray-700 font-medium">Internship</span>
                          </label>
                          <label class="flex items-center space-x-3 text-sm cursor-pointer p-2 rounded-xl hover:bg-yellow-50 transition-colors">
                            <input type="checkbox" name="job_type" class="refine_search refine-functional-area text-yellow-600 rounded-lg focus:ring-yellow-600 focus:ring-2" value="walk-in" {% if searched_job_type == 'walk-in' %}checked{% endif %}{% if job_type == 'walk-in' %}checked{% endif %}>
                            <span class="text-gray-700 font-medium">Walk-in</span>
                          </label>
                          <label class="flex items-center space-x-3 text-sm cursor-pointer p-2 rounded-xl hover:bg-purple-50 transition-colors">
                            <input type="checkbox" name="job_type" class="refine_search refine-functional-area text-purple-600 rounded-lg focus:ring-purple-600 focus:ring-2" value="Fresher" {% if searched_job_type == 'Fresher' %}checked{% endif %}{% if job_type == 'Fresher' %}checked{% endif %}>
                            <span class="text-gray-700 font-medium">Fresher</span>
                          </label>
                        </div>
                      </div>
                    </div>

                  <div class="glass-effect rounded-2xl overflow-hidden border border-white/30">
                    <div class="px-6 py-4 bg-gradient-to-r from-indigo-100 to-blue-100 border-b border-white/30">
                      <h3 class="font-bold text-gray-800 text-lg flex items-center gap-2">
                        <i class="fas fa-chart-line text-indigo-600"></i>
                        Experience
                      </h3>
                    </div>
                    <div class="p-6 bg-white/80">
                        <div class="space-y-6">
                          <input type="hidden" name="refine_experience_min" id="refine_experience_min" value="{{ request.POST.refine_experience_min|default:'0' }}">
                          <input type="hidden" name="refine_experience_max" id="refine_experience_max" value="{{ request.POST.refine_experience_max|default:'20' }}">
                          
                          <div class="space-y-4">
                            <div class="flex justify-between text-sm font-semibold text-gray-700">
                              <span class="px-3 py-1 bg-primary/10 rounded-lg">Min: <span id="min-experience-display">{{ request.POST.refine_experience_min|default:'0' }}</span> years</span>
                              <span class="px-3 py-1 bg-accent/10 rounded-lg">Max: <span id="max-experience-display">{{ request.POST.refine_experience_max|default:'20' }}</span> years</span>
                            </div>
                            
                            <div class="relative">
                              <div class="flex space-x-4">
                                <div class="flex-1">
                                  <label class="block text-xs font-semibold text-gray-600 mb-2">Min Experience</label>
                                  <input type="range" 
                                         id="min-experience-range" 
                                         min="0" 
                                         max="20" 
                                         value="{{ request.POST.refine_experience_min|default:'0' }}"
                                         class="w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-slider">
                                </div>
                                <div class="flex-1">
                                  <label class="block text-xs font-semibold text-gray-600 mb-2">Max Experience</label>
                                  <input type="range" 
                                         id="max-experience-range" 
                                         min="0" 
                                         max="20" 
                                         value="{{ request.POST.refine_experience_max|default:'20' }}"
                                         class="w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-slider">
                                </div>
                              </div>
                            </div>
                            
                            <div class="flex justify-between text-xs text-gray-500 font-medium">
                              <span>0 years</span>
                              <span>20+ years</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                </div>
              </form>
            </div>
           </div>
            <!-- side_filter_section ends here -->
          </div>
          <!-- job_list_section starts here -->
          <div class="md:w-3/4 animate-slide-up">
  <!-- job_list_section starts here -->
          {% if '/walkin-jobs/' in request.path or "/government-jobs/" in request.path%}
            {% include 'company_job_list.html' with job_list=job_list %}
          {% else %}
            {% include 'job_list.html' with job_list=job_list %}
          {% endif %}
          <!-- job_list_section ends here -->
          {% if job_list%}
          <div class="flex justify-center mt-12 mb-16">
            <div class="flex justify-center">
          {% get_page current_page last_page as pages %}

          <nav aria-label="Page navigation" class="flex justify-center">
            <ul class="pagination flex space-x-2">
              {% if current_page != 1 %}
              <li>
                <a data-href="{{ current_url }}{% if previous_page == 1 %}{% else %}{{ previous_page }}/{% endif %}" 
                   data-page="{{ previous_page }}"
                   class="flex items-center justify-center px-4 py-3 text-sm font-semibold text-gray-600 glass-effect rounded-xl hover-lift border border-white/30" 
                   href="{{ current_url }}{% if previous_page == 1 %}{% else %}{{ previous_page }}/{% endif %}" aria-label="Previous">
                  <i class="fas fa-chevron-left mr-1"></i>
                  <span>Prev</span>
                </a>
              </li>
              <li>
                <a data-href="{{ current_url }}" 
                   data-page="1"
                   class="flex items-center justify-center px-4 py-3 text-sm font-semibold text-gray-600 glass-effect rounded-xl hover-lift border border-white/30" 
                   href="{{ current_url }}">First</a>
              </li>
              {% endif %}
              {% for s in pages %}
              <li>
                <a data-href="{{ current_url }}{% if s == 1 %}{% else %}{{ s }}/{% endif %}" 
                   data-page="{{ s }}"
                   class="flex items-center justify-center px-4 py-3 text-sm font-semibold {% if s == current_page %}text-white bg-gradient-to-r from-primary to-accent shadow-lg{% else %}text-gray-600 glass-effect border border-white/30{% endif %} rounded-xl hover-lift transition-all duration-300"
                   href="{{ current_url }}{% if s == 1 %}{% else %}{{ s }}/{% endif %}">
                  {{ s }}
                </a>
              </li>
              {% endfor %}
              {% if current_page != last_page %}
              <li>
                <a data-href="{{ current_url }}{{ last_page }}/" 
                   data-page="{{ last_page }}"
                   class="flex items-center justify-center px-4 py-3 text-sm font-semibold text-gray-600 glass-effect rounded-xl hover-lift border border-white/30" 
                   href="{{ current_url }}{{ last_page }}/">Last</a>
              </li>
              <li>
                <a data-href="{{ current_url }}{{ aft_page }}/" 
                   data-page="{{ aft_page }}"
                   class="flex items-center justify-center px-4 py-3 text-sm font-semibold text-gray-600 glass-effect rounded-xl hover-lift border border-white/30" 
                   href="{{ current_url }}{{ aft_page }}/" aria-label="Next">
                  <span>Next</span>
                  <i class="fas fa-chevron-right ml-1"></i>
                </a>
              </li>
              {% endif %}
            </ul>
          </nav>
</div>
          </div>{% endif %}
          <!-- jobs_tabs starts here -->
          
        </div>
          <!-- job_list_section ends here -->
        </div>
      </div>
    </div>
  </div>
</div>

{% include "jobs/partials/_location_filter_modal.html" %}
{% include "jobs/partials/_skills_filter_modal.html" %}
{% include "jobs/partials/_industry_filter_modal.html" %}
{% include "jobs/partials/_degrees_filter_modal.html" %}

<!-- main_container ends here -->
{% endblock %}
{% block extra_js %}
{{ block.super }}
<script type="text/javascript">
$(document).ready(function () {
    // Location Modal Functionality
    $(document).on('click', '#show-more-locations', function(e) {
        e.preventDefault();
        $('#location-modal').show();
        
        // Sync modal checkboxes with current selections
        $('.refine_location:checked').each(function() {
            var value = $(this).val();
            $('.modal-location-checkbox[data-value="' + value + '"]').prop('checked', true);
        });
        
        // Update counter when modal opens
        updateSelectedLocationsCounter();
    });

    // Skills Modal Functionality
    $(document).on('click', '#show-more-skills', function(e) {
        e.preventDefault();
        $('#skills-modal').show();
        
        // Sync modal checkboxes with current selections
        $('.refine_skill:checked').each(function() {
            var value = $(this).val();
            $('.modal-skill-checkbox[data-value="' + value + '"]').prop('checked', true);
        });
        
        // Update counter when modal opens
        updateSelectedSkillsCounter();
    });

    // Industry Modal Functionality
    $(document).on('click', '#show-more-industries', function(e) {
        e.preventDefault();
        $('#industry-modal').show();
        
        // Sync modal checkboxes with current selections
        $('.refine_industry:checked').each(function() {
            var value = $(this).val();
            $('.modal-industry-checkbox[data-value="' + value + '"]').prop('checked', true);
        });
        
        // Update counter when modal opens
        updateSelectedIndustriesCounter();
    });

    // Degrees Modal Functionality
    $(document).on('click', '#show-more-degrees', function(e) {
        e.preventDefault();
        $('#degrees-modal').show();
        
        // Sync modal checkboxes with current selections
        $('.refine_edu:checked').each(function() {
            var value = $(this).val();
            $('.modal-degree-checkbox[data-value="' + value + '"]').prop('checked', true);
        });
        
        // Update counter when modal opens
        updateSelectedDegreesCounter();
    });

    // Update selected locations counter
    function updateSelectedLocationsCounter() {
        var count = $('.modal-location-checkbox:checked').length;
        $('#selected-locations-count').text(count);
    }

    // Update selected skills counter
    function updateSelectedSkillsCounter() {
        var count = $('.modal-skill-checkbox:checked').length;
        $('#selected-skills-count').text(count);
    }

    // Update selected industries counter
    function updateSelectedIndustriesCounter() {
        var count = $('.modal-industry-checkbox:checked').length;
        $('#selected-industries-count').text(count);
    }

    // Update selected degrees counter
    function updateSelectedDegreesCounter() {
        var count = $('.modal-degree-checkbox:checked').length;
        $('#selected-degrees-count').text(count);
    }

    // Handle location checkbox changes
    $(document).on('change', '.modal-location-checkbox', function() {
        updateSelectedLocationsCounter();
    });

    // Handle skill checkbox changes
    $(document).on('change', '.modal-skill-checkbox', function() {
        updateSelectedSkillsCounter();
    });

    // Handle industry checkbox changes
    $(document).on('change', '.modal-industry-checkbox', function() {
        updateSelectedIndustriesCounter();
    });

    // Handle degree checkbox changes
    $(document).on('change', '.modal-degree-checkbox', function() {
        updateSelectedDegreesCounter();
    });

    // Close location modal
    $(document).on('click', '#close-location-modal, #cancel-location-modal', function() {
        $('#location-modal').hide();
    });

    // Close skills modal
    $(document).on('click', '#close-skills-modal, #cancel-skills-modal', function() {
        $('#skills-modal').hide();
    });

    // Close industry modal
    $(document).on('click', '#close-industry-modal, #cancel-industry-modal', function() {
        $('#industry-modal').hide();
    });

    // Close degrees modal
    $(document).on('click', '#close-degrees-modal, #cancel-degrees-modal', function() {
        $('#degrees-modal').hide();
    });

    // Close modal when clicking outside
    $(document).on('click', '#location-modal', function(e) {
        if (e.target === this) {
            $('#location-modal').hide();
        }
    });

    // Close skills modal when clicking outside
    $(document).on('click', '#skills-modal', function(e) {
        if (e.target === this) {
            $('#skills-modal').hide();
        }
    });

    // Close industry modal when clicking outside
    $(document).on('click', '#industry-modal', function(e) {
        if (e.target === this) {
            $('#industry-modal').hide();
        }
    });

    // Close degrees modal when clicking outside
    $(document).on('click', '#degrees-modal', function(e) {
        if (e.target === this) {
            $('#degrees-modal').hide();
        }
    });

    // Location search functionality
    $(document).on('input', '#location-search', function() {
        var searchTerm = $(this).val().toLowerCase();
        $('.modal-location-item').each(function() {
            var locationName = $(this).data('location-name');
            $(this).toggle(locationName.includes(searchTerm));
        });
    });

    // Skills search functionality
    $(document).on('input', '#skills-search', function() {
        var searchTerm = $(this).val().toLowerCase();
        $('.modal-skill-item').each(function() {
            var skillName = $(this).data('skill-name');
            $(this).toggle(skillName.includes(searchTerm));
        });
    });

    // Industry search functionality
    $(document).on('input', '#industry-search', function() {
        var searchTerm = $(this).val().toLowerCase();
        $('.modal-industry-item').each(function() {
            var industryName = $(this).data('industry-name');
            $(this).toggle(industryName.includes(searchTerm));
        });
    });

    // Degrees search functionality
    $(document).on('input', '#degrees-search', function() {
        var searchTerm = $(this).val().toLowerCase();
        $('.modal-degree-item').each(function() {
            var degreeName = $(this).data('degree-name');
            $(this).toggle(degreeName.includes(searchTerm));
        });
    });

    // Apply location filters
    $(document).on('click', '#apply-location-filters', function() {
        $('.refine_location').prop('checked', false);
        
        $('.modal-location-checkbox:checked').each(function() {
            var value = $(this).data('value');
            $('.refine_location[value="' + value + '"]').prop('checked', true);
        });
        
        $('#location-modal').hide();
        $('#refine_search').val('True');
        $('#refine-search').submit();
    });

    // Apply skills filters
    $(document).on('click', '#apply-skills-filters', function() {
        $('.refine_skill').prop('checked', false);
        
        $('.modal-skill-checkbox:checked').each(function() {
            var value = $(this).data('value');
            $('.refine_skill[value="' + value + '"]').prop('checked', true);
        });
        
        $('#skills-modal').hide();
        $('#refine_search').val('True');
        $('#refine-search').submit();
    });

    // Apply industry filters
    $(document).on('click', '#apply-industry-filters', function() {
        $('.refine_industry').prop('checked', false);
        
        $('.modal-industry-checkbox:checked').each(function() {
            var value = $(this).data('value');
            $('.refine_industry[value="' + value + '"]').prop('checked', true);
        });
        
        $('#industry-modal').hide();
        $('#refine_search').val('True');
        $('#refine-search').submit();
    });

    // Apply degrees filters
    $(document).on('click', '#apply-degrees-filters', function() {
        $('.refine_edu').prop('checked', false);
        
        $('.modal-degree-checkbox:checked').each(function() {
            var value = $(this).data('value');
            $('.refine_edu[value="' + value + '"]').prop('checked', true);
        });
        
        $('#degrees-modal').hide();
        $('#refine_search').val('True');
        $('#refine-search').submit();
    });
    
    // Pagination handler
    $('ul.pagination li a').click(function(e){
        e.preventDefault();
        
        var href = $(this).attr('data-href');
        var page = $(this).attr('data-page');
        
        if (!href || !page) return false;
        
        $('#page').val(page);
        $('#refine_search').val('True');
        $('#refine-search').attr("action", href);
        $('#refine-search').submit();
        
        return false;
    });
    
    // Text expand/collapse functionality
    var showChar = 130;
    var ellipsestext = "...";
    var moretext = "more";
    var lesstext = "less";
    
    $('.more').each(function () {
        var content = $(this).children('p').html();
        if (content && content.length > showChar) {
            var c = content.substr(0, showChar);
            var h = content.substr(showChar);
            var html = c + '<span class="moreellipses">' + ellipsestext + '&nbsp;</span><span class="morecontent"><span class="moretext">' + h + '</span><span class="morelink">' + moretext + '</span></span>';
            $(this).children('p').html(html);
        }
    });
    
    $('body').on("click", ".morelink", function (e) {
        e.preventDefault();
        var isLess = $(this).hasClass("less");
        $(this).toggleClass("less").html(isLess ? moretext : lesstext);
        $(this).parent().prev().toggle();
        $(this).prev().toggle();
        return false;
    });

    // Skills dropdown
    if ($('#job_skills').length) {
        $('#job_skills').empty().append(new Option('Select a Skill', ''));
        $.getJSON("{% url 'jobs:get_skills' %}", function (data) {
            $.each(JSON.parse(data.response), function (key, field) {
                $('#job_skills').append(new Option(field.fields.name, field.pk));
            });
        });
    }

    // Scroll-based positioning (simplified)
    $(window).scroll(function(){
        var scrollTop = $(this).scrollTop();
        var rightHeight = $(".right_container").height();
        var mainHeight = $('.main_container').height();
        var $elements = $('.inner_login_box, .upload_btn_block, .subscribe_box');
        
        if (scrollTop > rightHeight && scrollTop < (mainHeight - 650)) {
            $elements.each(function() {
                if (!$(this).hasClass('scroll-positioned')) {
                    $(this).addClass('scroll-positioned');
                    if ($(this).hasClass('subscribe_box')) {
                        $(this).css({'position': 'fixed', 'top': '181px'});
                    } else if ($(this).hasClass('upload_btn_block')) {
                        $(this).css({'position': 'fixed', 'top': '121px'});
                    } else if ($(this).hasClass('inner_login_box')) {
                        $(this).css({'position': 'fixed', 'top': '426px'});
                    }
                }
            });
        } else {
            $elements.removeClass('scroll-positioned').css({'position': 'static', 'top': '0px'});
        }
    });
});

// Experience range functionality
$(function() {
    var minRange = $('#min-experience-range')[0];
    var maxRange = $('#max-experience-range')[0];
    var minDisplay = $('#min-experience-display');
    var maxDisplay = $('#max-experience-display');
    var minHidden = $('#refine_experience_min');
    var maxHidden = $('#refine_experience_max');
    
    if (minRange && maxRange) {
        function updateExperienceRange() {
            var minVal = parseInt(minRange.value);
            var maxVal = parseInt(maxRange.value);
            
            if (minVal > maxVal) {
                if (this === minRange) {
                    maxVal = minVal;
                    maxRange.value = maxVal;
                } else {
                    minVal = maxVal;
                    minRange.value = minVal;
                }
            }
            
            minDisplay.text(minVal);
            maxDisplay.text(maxVal);
            minHidden.val(minVal);
            maxHidden.val(maxVal);
            
            $('#refine_search').val('True');
            $('#refine-search').submit();
        }
        
        $(minRange).on('input', updateExperienceRange);
        $(maxRange).on('input', updateExperienceRange);
    }
    
    // Tab functionality
    $('.tab_button').click(function (e) {
        e.preventDefault();
        $('.tab_button').removeClass('active');
        $(this).addClass('active');
        var panel = $(this).attr('data-url');
        $('.tab_block').removeClass('active');
        $('#' + panel).addClass('active');
    });
});
</script>
{% endblock %}